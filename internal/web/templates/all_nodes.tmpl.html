{{define "title"}}All Nodes - WPAmesh{{end}}

{{define "content"}}

<div id="tables-example">
    <div class="table-controls">
        <h3>All Nodes</h3>
        <div class="filter-controls">
            <label><input type="checkbox" id="filter-connected" checked> Connected Only</label>
            <label><input type="checkbox" id="filter-mesh"> Mesh Devices Only</label>
            <label><input type="checkbox" id="filter-gateway"> Valid Gateways Only</label>
            <label><input type="checkbox" id="auto-refresh"> Auto-Refresh (15s)</label>
        </div>
    </div>
    <table class="table--responsive" id="nodes-table">
        <thead>
            <tr>
                <th>Node ID</th>
                <th>Short Name</th>
                <th>Long Name</th>
                <th>Role</th>
                <th>Proxy Type</th>
                <th>Address</th>
                <th>Root Topic</th>
                <th>Last Seen</th>
                <th>Downlink?</th>
                <th>Valid <abbr title="gateway">GW</abbr>?</th>
                <th>User</th>
            </tr>
        </thead>
        <tbody id="nodes-tbody">
            <tr>
                <td colspan="11" class="loading-message">Loading...</td>
            </tr>
        </tbody>
    </table>

    <h3>Other Connections</h3>
    <table class="table--responsive" id="other-clients-table">
        <thead>
            <tr>
                <th>Client ID</th>
                <th>Address</th>
                <th>Root Topic</th>
                <th>User</th>
            </tr>
        </thead>
        <tbody id="other-clients-tbody">
            <tr>
                <td colspan="4" class="loading-message">Loading...</td>
            </tr>
        </tbody>
    </table>
</div>

<script>
    // Initialize node loading on page load
    window.isAdmin = true; // Admin page
    if (typeof loadNodes === 'function') {
        loadNodes(window.isAdmin);
    }
</script>

{{end}}